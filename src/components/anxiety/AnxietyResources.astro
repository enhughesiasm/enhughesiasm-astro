---
import { Youtube } from 'iconoir-react';
import AnxietyArticleCard from './AnxietyArticleCard.astro';
import { getBlogPosts } from '../blog/api/fetch_articles';

const highlightedArticleIds = [
	'2440', // three causes
	'3378', // untying the knot
	'2813', // anxious what do i do now
	'2979', // repetitive anxiety tally
	'2291', // might not matter why
	'3116', // might as well do the thing
	'3077', // self-esteem-self-confidence/
	'2589', //	cant-not-things-can/
	'2580', // plan-ruminate-worry-poke-prod-fumble-stop-overanalysing-life/
	'635', // /resonance/
	'2514', //is-it-too-late-for-me/
	'1935', // /how-i-accidentally-had-an-endoscopy/
	'2361', //same-problems-over/
	'1818', //my-life-is-not-worth-living/
];

const allArticles = await getBlogPosts();

const articles = allArticles.filter((a) =>
	highlightedArticleIds.includes(a.id.toString())
);
---

<div class='mt-3 rounded-lg bg-red-200 px-2 py-1 text-center lg:mt-1'>
	Feel anxious?
</div>
<div
	class='my-3 flex flex-row items-center justify-center px-2 text-center hover:font-bold hover:text-red-700'
>
	<a
		href='http://bit.ly/custardTED'
		target='_blank'
		rel='noopener'
		class='flex flex-row items-center space-x-2 xl:flex-col'
		><div><Youtube className='inline text-red-500 text-lg' /></div><span
			>Start with <strong class='underline'>this</strong> funny talk about
			anxiety.</span
		></a
	>
</div>
<div class='rounded-lg bg-red-100 px-2 py-1 text-center'>
	Next, check out these articles:
</div>
<ul class='space-y-3 px-1 py-3 text-center'>
	{articles.map((a) => <AnxietyArticleCard post={a} />)}
</ul>
